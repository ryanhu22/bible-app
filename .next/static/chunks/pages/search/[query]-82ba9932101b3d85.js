(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{7223:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search/[query]",function(){return t(3070)}])},3070:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return A}});var s=t(7568),a=t(828),r=t(655),o=t(5893),i=t(9008),l=t.n(i),c=t(1163),u=t(7294),h=t(759),d=t(9762),m=t(6305),p=function(e){var n=e.message;return(0,o.jsxs)("div",{className:"flex w-full mt-2 space-x-3 max-w-xs",children:[(0,o.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-300"}),(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"bg-gray-300 p-2 rounded-r-lg rounded-bl-lg",children:(0,o.jsx)("p",{className:"text-sm",children:n})})})]})},g=t(3299),f=function(e){var n,t=e.message,s=(0,g.useSession)().data;return(0,o.jsxs)("div",{className:"flex w-full mt-2 space-x-3 max-w-xs ml-auto justify-end",children:[(0,o.jsx)("div",{className:"flex flex-col items-end",children:(0,o.jsx)("div",{className:"bg-blue-600 text-white p-2 rounded-l-lg rounded-br-lg",children:(0,o.jsx)("p",{className:"text-sm",children:t})})}),s?(0,o.jsx)("img",{src:null==s?void 0:null===(n=s.user)||void 0===n?void 0:n.image,alt:"profile picture",className:"h-10 w-10 rounded-full"}):(0,o.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-300"})]})},x=t(9844),v=function(){return(0,o.jsxs)("div",{className:"flex w-full mt-2 space-x-3 max-w-xs",children:[(0,o.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-300"}),(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"bg-gray-300 p-2 rounded-r-lg rounded-bl-lg",children:(0,o.jsx)("p",{className:"text-sm",children:(0,o.jsx)(x.e,{sequence:["please wait...",3e3],wrapper:"span",cursor:!0,repeat:1/0,style:{fontSize:"1em",display:"inline-block"}})})})})]})},b=t(3439),j=function(){(0,g.useSession)().data;var e,n=(0,a.Z)((0,u.useState)([{from:"me",text:"Hello, it's me"},{from:"them",text:"Hello, it's a computer"}]),2),t=n[0],i=n[1],l=(0,a.Z)((0,u.useState)(""),2),c=l[0],h=l[1],d=(0,u.useRef)(),x=(0,u.useRef)(null),j=(0,a.Z)((0,u.useState)(!1),2),y=j[0],w=j[1],k=function(e){h(e.target.value)};function N(){return(N=(0,s.Z)(function(e,n){var t,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:e.preventDefault(),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request:n})})];case 2:return[4,(t=r.sent()).json()];case 3:if(s=r.sent(),200!==t.status)throw s.error||Error("Request failed with status ".concat(t.status));return[2,s.result];case 4:return console.error(a=r.sent()),alert(a.message),[3,5];case 5:return[2]}})})).apply(this,arguments)}var S=function(e){i(function(n){return(0,m.Z)(n).concat([e])})},C=(e=(0,s.Z)(function(e){var n;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return e.preventDefault(),n={from:"me",text:c},h(""),d.current.value="",S(n),w(!0),[4,function(e,n){return N.apply(this,arguments)}(e,c)];case 1:return S({from:"other",text:t.sent()}),w(!1),[2]}})}),function(n){return e.apply(this,arguments)}),E=function(){var e;null===(e=x.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return(0,u.useEffect)(function(){E()},[t]),(0,o.jsxs)("div",{className:"flex flex-col flex-grow w-full bg-white shadow-xl rounded-lg overflow-hidden",children:[(0,o.jsxs)("div",{className:"flex flex-col flex-grow h-0 p-4 overflow-auto bg-gray-50 scrollbar scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-300",children:[t.map(function(e){return"me"===e.from?(0,o.jsx)(f,{message:e.text},e.id):(0,o.jsx)(p,{message:e.text},e.id)}),y?(0,o.jsx)(v,{}):null,(0,o.jsx)("div",{ref:x})]}),(0,o.jsx)("div",{className:"p-4 border-t-2",children:(0,o.jsxs)("form",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"text",placeholder:"Example: Who is Jesus?",className:"border-none flex-1 focus:ring-0 outline-none text-s",onChange:function(e){return k(e)},ref:d}),(0,o.jsx)("button",{type:"submit",className:"font-semibold text-blue-400",onClick:function(e){return C(e)},children:(0,o.jsx)(b,{className:"h-8 text-gray-700 -rotate-45 hover:text-gray-400"})})]})})]})},y=function(){var e=(0,a.Z)((0,u.useState)(!1),2),n=e[0],t=e[1],s=(0,u.useRef)(null);return(0,o.jsxs)("div",{className:"fixed bottom-4 right-4",children:[(0,o.jsx)("button",{className:"",onClick:function(){console.log("CLICKED"),t(!n),console.log(n)},children:n?(0,o.jsx)(h,{className:"h-8 xl:h-10 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"}):(0,o.jsx)(d,{className:"h-8 xl:h-10 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"})}),n&&(0,o.jsx)("div",{ref:s,className:"h-1/2 w-3/4 md:w-1/2 xl:w-1/3 fixed bottom-16 xl:bottom-20 right-4 xl:right-6 bg-white rounded-lg shadow-lg",children:(0,o.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-black",children:(0,o.jsx)(j,{})})})]})},w=t(7611),k=t.n(w),N=t(4190),S=t(9608),C=t(8240),E=t(405),_=t(9828),L=t(3977),Z=t(6650);t(8887),(0,L.C6)().length?(0,L.Mq)():(0,L.ZF)({apiKey:"AIzaSyAq06g5VP2nlfnLEFp9oIAcSdVwzo6ccw4",authDomain:"bible-assi.firebaseapp.com",projectId:"bible-assi",storageBucket:"bible-assi.appspot.com",messagingSenderId:"924013625104",appId:"1:924013625104:web:776e3c2a1a28feffe1af95",measurementId:"G-E2RJDYCPC2"});var z=(0,_.ad)();(0,Z.cF)();var D=function(e){var n,t,i,l=e.passageHTML,c=e.searchFunc,h=e.book,d=e.chapter,p=function(e){x.current&&!x.current.contains(e.target)&&J(!1)},f=(0,g.useSession)().data,x=(0,u.useRef)(),v=(0,a.Z)((0,u.useState)([]),2),j=(v[0],v[1]),y=(0,a.Z)((0,u.useState)(!1),2),w=y[0],L=y[1],Z=(0,a.Z)((0,u.useState)(0),2),D=(Z[0],Z[1]),M=(0,a.Z)((0,u.useState)(0),2),T=(M[0],M[1]),R=(0,a.Z)((0,u.useState)(0),2),I=(R[0],R[1]),A=(0,a.Z)((0,u.useState)(!1),2),H=A[0],J=A[1],B=(0,a.Z)((0,u.useState)(""),2),F=B[0],q=B[1],P=(0,a.Z)((0,u.useState)(),2),U=P[0],O=P[1],Y=(0,a.Z)((0,u.useState)(0),2),W=Y[0],G=Y[1],K=(0,a.Z)((0,u.useState)(0),2),V=K[0],Q=K[1];console.log(U);var X=(0,u.useRef)(null),$={genesis:50,exodus:40,leviticus:27,numbers:36,deuteronomy:34,joshua:24,judges:21,ruth:4,"1samuel":31,"2samuel":24,"1kings":22,"2kings":25,"1chronicles":29,"2chronicles":36,ezra:10,nehemiah:13,esther:10,job:42,psalms:150,proverbs:31,ecclesiastes:12,songofsolomon:8,isaiah:66,jeremiah:52,lamentations:5,ezekiel:48,daniel:12,hosea:14,joel:3,amos:9,obadiah:1,jonah:4,micah:7,nahum:3,habakkuk:3,zephaniah:3,haggai:2,zechariah:14,malachi:4,matthew:28,mark:16,luke:24,john:21,acts:28,romans:16,"1corinthians":16,"2corinthians":13,galatians:6,ephesians:6,philippians:4,colossians:4,"1thessalonians":5,"2thessalonians":3,"1timothy":6,"2timothy":4,titus:3,philemon:1,hebrews:13,james:5,"1peter":5,"2peter":3,"1john":5,"2john":1,"3john":1,jude:1,revelation:22},ee={genesis:["revelation","exodus"],exodus:["genesis","leviticus"],leviticus:["exodus","numbers"],numbers:["leviticus","deuteronomy"],deuteronomy:["numbers","joshua"],joshua:["deuteronomy","judges"],judges:["joshua","ruth"],ruth:["judges","1samuel"],"1samuel":["ruth","2samuel"],"2samuel":["1samuel","1kings"],"1kings":["2samuel","2kings"],"2kings":["1kings","1chronicles"],"1chronicles":["2kings","2chronicles"],"2chronicles":["1chronicles","ezra"],ezra:["2chronicles","nehemiah"],nehemiah:["ezra","esther"],esther:["nehemiah","job"],job:["esther","psalms"],psalms:["job","proverbs"],proverbs:["psalms","ecclesiastes"],ecclesiastes:["proverbs","songofsolomon"],songofsolomon:["ecclesiastes","isaiah"],isaiah:["songofsolomon","jeremiah"],jeremiah:["isaiah","lamentations"],lamentations:["jeremiah","ezekiel"],ezekiel:["lamentations","daniel"],daniel:["ezekiel","hosea"],hosea:["daniel","joel"],joel:["hosea","amos"],amos:["joel","obadiah"],obadiah:["amos","jonah"],jonah:["obadiah","micah"],micah:["jonah","nahum"],nahum:["micah","habakkuk"],habakkuk:["nahum","zephaniah"],zephaniah:["habakkuk","haggai"],haggai:["zephaniah","zechariah"],zechariah:["haggai","malachi"],malachi:["zechariah","matthew"],matthew:["malachi","mark"],mark:["matthew","luke"],luke:["mark","john"],john:["luke","acts"],acts:["john","romans"],romans:["acts","1corinthians"],"1corinthians":["romans","2corinthians"],"2corinthians":["1corinthians","galatians"],galatians:["2corinthians","ephesians"],ephesians:["galatians","philippians"],philippians:["ephesians","colossians"],colossians:["philippians","1thessalonians"],"1thessalonians":["colossians","2thessalonians"],"2thessalonians":["1thessalonians","1timothy"],"1timothy":["2thessalonians","2timothy"],"2timothy":["1timothy","titus"],titus:["2timothy","philemon"],philemon:["titus","hebrews"],hebrews:["philemon","james"],james:["hebrews","1peter"],"1peter":["james","2peter"],"2peter":["1peter","1john"],"1john":["2peter","2john"],"2john":["1john","3john"],"3john":["2john","jude"],jude:["3john","revelation"],revelation:["jude","genesis"]};(0,u.useEffect)(function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}},[]),(0,u.useEffect)(function(){D(window.innerWidth);var e=function(){return D(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,u.useEffect)(function(){var e=function(){var e=window.getSelection();if(!e.isCollapsed){var n=e.getRangeAt(0),t=n.getBoundingClientRect(),s=t.x+t.width/2,a=t.y+window.scrollY-50;O(n),G(s),Q(a)}};return document.addEventListener("mouseup",e),document.addEventListener("touchend",e),function(){document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}},[]);var en=(n=(0,s.Z)(function(e,n,t,s){var a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return a=(0,_.hJ)(z,"Users",e,n),[4,(0,_.pl)((0,_.JU)(a,t),{chapter:t,html:s})];case 1:return r.sent(),[2]}})}),function(e,t,s,a){return n.apply(this,arguments)}),et=(t=(0,s.Z)(function(e){var n,t;return(0,r.__generator)(this,function(s){return L(!0),ei(),(n=parseInt(d))-1<1?c(e,t=ee[h][0],$[t].toString()):c(e,h,(n-1).toString()),L(!1),[2]})}),function(e){return t.apply(this,arguments)}),es=(i=(0,s.Z)(function(e){var n;return(0,r.__generator)(this,function(t){return L(!0),ei(),(n=parseInt(d))+1>$[h]?c(e,ee[h][1],"1"):c(e,h,(n+1).toString()),L(!1),[2]})}),function(e){return i.apply(this,arguments)}),ea=function(){var e=null;if(window.getSelection?e=window.getSelection():void 0!==document.selection&&(e=document.selection),"Range"===e.type){var n=e.getRangeAt(0).getBoundingClientRect();T(n.x+n.width/2),I(n.y+window.scrollY)}},er=function(e,n){e.preventDefault(),n=n.trim();var t=Date.now().toString(36)+Math.random().toString(36).substring(2,5),s=k()(U,"span",{id:t,class:"bg-yellow-400 hover:bg-yellow-300 cursor-pointer",onClick:'commentClick("'.concat(t,'", "').concat(n,'", ').concat(W,", ").concat(V,", false, 0)"),onMouseEnter:'showCommentScriptFunc("'.concat(n,'", ').concat(W,", ").concat(V,")"),onMouseLeave:"hideCommentScriptFunc(".concat(W,", ").concat(V,")")});eo(t,s);var a=X.current.outerHTML;(null==f?void 0:f.user)&&en(f.user.email,h,d,a),q(""),J(!1)},eo=function(e,n){j(function(t){return(0,m.Z)(t).concat([[e,n]])})},ei=function(){j([])};return(0,o.jsx)(E.B6,{children:(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"flex",onMouseUp:ea,onTouchEnd:ea,children:[(0,o.jsx)("div",{className:"fixed left-3 xl:left-10 top-1/2 transform -translate-y-1/2",children:(0,o.jsx)("button",{onClick:function(e){return et(e)},disabled:w,children:(0,o.jsx)(N,{className:"h-8 xl:h-10 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"})})}),(0,o.jsx)("div",{className:"fixed left-3 xl:left-10 bottom-48 transform -translate-y-1/2",children:(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-yellow-200 border border-black",onClick:function(){console.log("Selection Yellow");var e=k()(U,"span",{class:"bg-yellow-100"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),e);var n=X.current.outerHTML;(null==f?void 0:f.user)&&en(f.user.email,h,d,n)}})}),(0,o.jsx)("div",{className:"fixed left-3 xl:left-10 bottom-40 transform -translate-y-1/2",children:(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-blue-200 border border-black",onClick:function(){var e=window.getSelection();if(!e)return null;if(!e.isCollapsed){e.getRangeAt(0);var n=k()(U,"span",{class:"bg-blue-100"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),n)}e.empty&&e.empty();var t=X.current.outerHTML;(null==f?void 0:f.user)&&en(f.user.email,h,d,t)}})}),(0,o.jsx)("div",{className:"fixed left-3 xl:left-10 bottom-32 transform -translate-y-1/2",children:(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-red-200 border border-black",onClick:function(){var e=window.getSelection();if(!e)return null;if(!e.isCollapsed){e.getRangeAt(0);var n=k()(U,"span",{class:"bg-red-100"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),n)}e.empty&&e.empty();var t=X.current.outerHTML;(null==f?void 0:f.user)&&en(f.user.email,h,d,t)}})}),(0,o.jsx)("div",{className:"fixed left-3 xl:left-10 bottom-24 transform -translate-y-1/2",children:(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-purple-200 border border-black",onClick:function(){var e=window.getSelection();if(!e)return null;if(!e.isCollapsed){e.getRangeAt(0);var n=k()(U,"span",{class:"bg-white"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),n)}e.empty&&e.empty();var t=X.current.outerHTML;(null==f?void 0:f.user)&&en(f.user.email,h,d,t)}})}),(0,o.jsxs)("div",{ref:x,children:[(0,o.jsx)("div",{className:"fixed left-3 xl:left-10 bottom-16 transform -translate-y-1/2",children:(0,o.jsx)(S,{className:"w-6 h-6 border border-black",onClick:function(){J(!H)}})}),H?(0,o.jsx)("div",{className:"fixed bottom-16",children:(0,o.jsxs)("form",{className:"flex bg-gray-50 items-center border border-gray-400 rounded-md mt-4 py-4 px-2",onSubmit:function(e){return er(e,F)},children:[(0,o.jsx)("input",{className:"w-full bg-transparent focus:outline-none",id:"message",placeholder:"Add a comment...",value:F,onChange:function(e){q(e.target.value)}}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)("button",{type:"submit",children:(0,o.jsx)(b,{className:"h-6 -rotate-45 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"})})})]})}):null]}),(0,o.jsx)("div",{className:"px-3",children:(0,o.jsx)("div",{className:"",ref:X,id:"passagediv",children:(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:l}})})}),(0,o.jsx)(E.ql,{children:(0,o.jsx)("script",{children:"function commentClick(commentID, commentText, x_coord, y_coord, isDelete, clickCounter) {\n                      if (!isDelete) {\n                        const comment = document.createElement('div');\n                        comment.style.position = \"absolute\";\n                        comment.style.left = x_coord + \"px\";\n                        comment.style.top = y_coord + \"px\";\n                        comment.textContent = commentText;\n                        comment.style.border = '1px solid black';\n                        comment.style.borderRadius = '5px';\n                        comment.style.backgroundColor = 'white';\n                        comment.style.padding = '5px';\n                        comment.style.textAlign = 'center';\n                        comment.style.margin = '10px';\n                        const passageDiv = document.getElementById('passagediv');\n                        passageDiv.appendChild(comment);\n                      }\n                  }"})}),(0,o.jsx)(E.ql,{children:(0,o.jsx)("script",{children:"function showCommentScriptFunc(commentText, x_coord, y_coord) {\n                    const comment = document.createElement('div');\n                    comment.style.position = \"absolute\";\n                    comment.style.left = x_coord + \"px\";\n                    comment.style.top = y_coord + \"px\";\n                    comment.textContent = commentText;\n                    comment.style.border = '1px solid black';\n                    comment.style.borderRadius = '5px';\n                    comment.style.backgroundColor = 'white';\n                    comment.style.padding = '5px';\n                    comment.style.textAlign = 'center';\n                    comment.style.margin = '10px';\n                    const passageDiv = document.getElementById('passagediv');\n                    passageDiv.appendChild(comment);\n                  }"})}),(0,o.jsx)(E.ql,{children:(0,o.jsx)("script",{children:"function hideCommentScriptFunc(x_coord, y_coord) {\n                    const passageDiv = document.getElementById('passagediv');\n                    const lastDiv = passageDiv.lastChild;\n                    passageDiv.removeChild(lastDiv);\n                  }"})}),(0,o.jsx)("div",{className:"fixed right-3 xl:right-10 top-1/2 transform -translate-y-1/2",children:(0,o.jsx)("button",{onClick:function(e){return es(e)},disabled:w,children:(0,o.jsx)(C,{className:"h-8 xl:h-10 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"})})})]})})})})})},M=function(e){var n,t,i,l=e.passageHTML,c=e.searchFunc,h=e.book,d=e.chapter,p=(0,g.useSession)().data,f=(0,a.Z)((0,u.useState)([]),2),x=(f[0],f[1]),v=(0,a.Z)((0,u.useState)(!1),2),j=v[0],y=v[1],w=(0,a.Z)((0,u.useState)(!1),2),S=w[0],L=w[1],Z=(0,a.Z)((0,u.useState)(0),2),D=Z[0],M=Z[1],T=(0,a.Z)((0,u.useState)(0),2),R=T[0],I=T[1],A=(0,a.Z)((0,u.useState)(0),2),H=A[0],J=A[1],B=(0,a.Z)((0,u.useState)(""),2),F=B[0],q=B[1],P=(0,a.Z)((0,u.useState)(),2),U=P[0],O=P[1],Y=(0,a.Z)((0,u.useState)(0),2),W=Y[0],G=Y[1],K=(0,a.Z)((0,u.useState)(0),2),V=K[0],Q=K[1],X=(0,u.useRef)(null),$={genesis:50,exodus:40,leviticus:27,numbers:36,deuteronomy:34,joshua:24,judges:21,ruth:4,"1samuel":31,"2samuel":24,"1kings":22,"2kings":25,"1chronicles":29,"2chronicles":36,ezra:10,nehemiah:13,esther:10,job:42,psalms:150,proverbs:31,ecclesiastes:12,songofsolomon:8,isaiah:66,jeremiah:52,lamentations:5,ezekiel:48,daniel:12,hosea:14,joel:3,amos:9,obadiah:1,jonah:4,micah:7,nahum:3,habakkuk:3,zephaniah:3,haggai:2,zechariah:14,malachi:4,matthew:28,mark:16,luke:24,john:21,acts:28,romans:16,"1corinthians":16,"2corinthians":13,galatians:6,ephesians:6,philippians:4,colossians:4,"1thessalonians":5,"2thessalonians":3,"1timothy":6,"2timothy":4,titus:3,philemon:1,hebrews:13,james:5,"1peter":5,"2peter":3,"1john":5,"2john":1,"3john":1,jude:1,revelation:22},ee={genesis:["revelation","exodus"],exodus:["genesis","leviticus"],leviticus:["exodus","numbers"],numbers:["leviticus","deuteronomy"],deuteronomy:["numbers","joshua"],joshua:["deuteronomy","judges"],judges:["joshua","ruth"],ruth:["judges","1samuel"],"1samuel":["ruth","2samuel"],"2samuel":["1samuel","1kings"],"1kings":["2samuel","2kings"],"2kings":["1kings","1chronicles"],"1chronicles":["2kings","2chronicles"],"2chronicles":["1chronicles","ezra"],ezra:["2chronicles","nehemiah"],nehemiah:["ezra","esther"],esther:["nehemiah","job"],job:["esther","psalms"],psalms:["job","proverbs"],proverbs:["psalms","ecclesiastes"],ecclesiastes:["proverbs","songofsolomon"],songofsolomon:["ecclesiastes","isaiah"],isaiah:["songofsolomon","jeremiah"],jeremiah:["isaiah","lamentations"],lamentations:["jeremiah","ezekiel"],ezekiel:["lamentations","daniel"],daniel:["ezekiel","hosea"],hosea:["daniel","joel"],joel:["hosea","amos"],amos:["joel","obadiah"],obadiah:["amos","jonah"],jonah:["obadiah","micah"],micah:["jonah","nahum"],nahum:["micah","habakkuk"],habakkuk:["nahum","zephaniah"],zephaniah:["habakkuk","haggai"],haggai:["zephaniah","zechariah"],zechariah:["haggai","malachi"],malachi:["zechariah","matthew"],matthew:["malachi","mark"],mark:["matthew","luke"],luke:["mark","john"],john:["luke","acts"],acts:["john","romans"],romans:["acts","1corinthians"],"1corinthians":["romans","2corinthians"],"2corinthians":["1corinthians","galatians"],galatians:["2corinthians","ephesians"],ephesians:["galatians","philippians"],philippians:["ephesians","colossians"],colossians:["philippians","1thessalonians"],"1thessalonians":["colossians","2thessalonians"],"2thessalonians":["1thessalonians","1timothy"],"1timothy":["2thessalonians","2timothy"],"2timothy":["1timothy","titus"],titus:["2timothy","philemon"],philemon:["titus","hebrews"],hebrews:["philemon","james"],james:["hebrews","1peter"],"1peter":["james","2peter"],"2peter":["1peter","1john"],"1john":["2peter","2john"],"2john":["1john","3john"],"3john":["2john","jude"],jude:["3john","revelation"],revelation:["jude","genesis"]};(0,u.useEffect)(function(){M(window.innerWidth);var e=function(){return M(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,u.useEffect)(function(){var e=function(){var e=window.getSelection();if(!e.isCollapsed){var n=e.getRangeAt(0),t=n.getBoundingClientRect(),s=t.x+t.width/2,a=t.y+window.scrollY-50;O(n),G(s),Q(a)}};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}},[]);var en=(n=(0,s.Z)(function(e,n,t,s){var a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return a=(0,_.hJ)(z,"Users",e,n),[4,(0,_.pl)((0,_.JU)(a,t),{chapter:t,html:s})];case 1:return r.sent(),[2]}})}),function(e,t,s,a){return n.apply(this,arguments)}),et=(t=(0,s.Z)(function(e){var n,t;return(0,r.__generator)(this,function(s){return y(!0),ei(),(n=parseInt(d))-1<1?c(e,t=ee[h][0],$[t].toString()):c(e,h,(n-1).toString()),y(!1),[2]})}),function(e){return t.apply(this,arguments)}),es=(i=(0,s.Z)(function(e){var n;return(0,r.__generator)(this,function(t){return y(!0),ei(),(n=parseInt(d))+1>$[h]?c(e,ee[h][1],"1"):c(e,h,(n+1).toString()),y(!1),[2]})}),function(e){return i.apply(this,arguments)}),ea=function(){var e=null;if(window.getSelection?e=window.getSelection():void 0!==document.selection&&(e=document.selection),"Range"===e.type){var n=e.getRangeAt(0).getBoundingClientRect();I(n.x+n.width/2),J(n.y+window.scrollY),L(!0)}else L(!1)},er=function(e,n){e.preventDefault(),n=n.trim();var t=Date.now().toString(36)+Math.random().toString(36).substring(2,5),s=k()(U,"span",{id:t,class:"bg-yellow-400 hover:bg-yellow-300 cursor-pointer",onClick:'commentClick("'.concat(t,'")'),onMouseEnter:'showCommentScriptFunc("'.concat(n,'", ').concat(W,", ").concat(V,")"),onMouseLeave:"hideCommentScriptFunc(".concat(W,", ").concat(V,")")});eo(t,s);var a=X.current.outerHTML;(null==p?void 0:p.user)&&en(p.user.email,h,d,a),q(""),L(!1)},eo=function(e,n){x(function(t){return(0,m.Z)(t).concat([[e,n]])})},ei=function(){x([])};return(0,o.jsx)(E.B6,{children:(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(0,o.jsxs)("div",{children:[S&&(0,o.jsxs)("div",{className:"absolute rounded-md mx-auto bg-white border border-black z-50",style:{top:H-150,left:R+300<=D-100?R+100:D-300},children:[(0,o.jsxs)("div",{className:"px-6 py-2 rounded-b-md",children:[(0,o.jsx)("h2",{className:"text-sm font-bold text-gray-900 text-center",children:"Choose a highlight color"}),(0,o.jsxs)("div",{className:"flex mt-4 justify-center items-center gap-4",children:[(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-yellow-300 hover:border hover:border-black hover:scale-125 transition-all duration-150 ease-out",onClick:function(){var e=window.getSelection();if(!e)return null;if(!e.isCollapsed){console.log("Selection Yellow");var n=e.getRangeAt(0),t=k()(n,"span",{class:"bg-yellow-100"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),t)}e.empty&&e.empty();var s=X.current.outerHTML;(null==p?void 0:p.user)&&en(p.user.email,h,d,s),L(!1)}}),(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-blue-300 hover:border hover:border-black hover:scale-125 transition-all duration-150 ease-out",onClick:function(){var e=window.getSelection();if(!e)return null;if(!e.isCollapsed){var n=e.getRangeAt(0),t=k()(n,"span",{class:"bg-blue-100"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),t)}e.empty&&e.empty();var s=X.current.outerHTML;(null==p?void 0:p.user)&&en(p.user.email,h,d,s),L(!1)}}),(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-red-300 hover:border hover:border-black hover:scale-125 transition-all duration-150 ease-out",onClick:function(){var e=window.getSelection();if(!e)return null;if(!e.isCollapsed){var n=e.getRangeAt(0),t=k()(n,"span",{class:"bg-red-100"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),t)}e.empty&&e.empty();var s=X.current.outerHTML;(null==p?void 0:p.user)&&en(p.user.email,h,d,s),L(!1)}}),(0,o.jsx)("button",{className:"w-6 h-6 rounded-full bg-purple-300 hover:border hover:border-black hover:scale-125 transition-all duration-150 ease-out",onClick:function(){var e=window.getSelection();if(!e)return null;if(!e.isCollapsed){var n=e.getRangeAt(0),t=k()(n,"span",{class:"bg-white"});eo(Date.now().toString(36)+Math.random().toString(36).substring(2,5),t)}e.empty&&e.empty();var s=X.current.outerHTML;(null==p?void 0:p.user)&&en(p.user.email,h,d,s),L(!1)}})]})]}),(0,o.jsxs)("div",{className:"py-4 px-6 rounded-t-md",children:[(0,o.jsx)("h2",{className:"text-sm font-bold text-gray-900 text-center",children:"Or type a comment..."}),(0,o.jsxs)("form",{className:"flex bg-gray-50 items-center border border-gray-400 rounded-md mt-4 py-4 px-2",onSubmit:function(e){return er(e,F)},children:[(0,o.jsx)("input",{className:"w-full bg-transparent focus:outline-none",id:"message",placeholder:"Add a comment...",value:F,onChange:function(e){q(e.target.value)}}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)("button",{type:"submit",children:(0,o.jsx)(b,{className:"h-6 -rotate-45 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"})})})]})]})]}),(0,o.jsxs)("div",{className:"flex",onMouseUp:ea,onTouchEnd:ea,children:[(0,o.jsx)("div",{className:"fixed left-3 xl:left-10 top-1/2 transform -translate-y-1/2",children:(0,o.jsx)("button",{onClick:function(e){return et(e)},disabled:j,children:(0,o.jsx)(N,{className:"h-8 xl:h-10 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"})})}),(0,o.jsx)("div",{className:"px-3",children:(0,o.jsx)("div",{className:"",ref:X,id:"passagediv",children:(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:l}})})}),(0,o.jsx)(E.ql,{children:(0,o.jsx)("script",{children:"function commentClick(commentID) {\n                      const spans = document.querySelectorAll('span');\n                      // Loop through the spans and delete the one with id=\"abc\"\n                      spans.forEach((span) => {\n                        if (span.id === commentID) {\n                          while (span.firstChild) {\n                            span.parentNode.insertBefore(span.firstChild, span);\n                          }\n                        }\n                      });\n                  }"})}),(0,o.jsx)(E.ql,{children:(0,o.jsx)("script",{children:"function showCommentScriptFunc(commentText, x_coord, y_coord) {\n                    const comment = document.createElement('div');\n                    comment.style.position = \"absolute\";\n                    comment.style.left = x_coord + \"px\";\n                    comment.style.top = y_coord + \"px\";\n                    comment.textContent = commentText;\n                    comment.style.border = '1px solid black';\n                    comment.style.borderRadius = '5px';\n                    comment.style.backgroundColor = 'white';\n                    comment.style.padding = '5px';\n                    comment.style.textAlign = 'center';\n                    comment.style.margin = '10px';\n                    const passageDiv = document.getElementById('passagediv');\n                    passageDiv.appendChild(comment);\n                  }"})}),(0,o.jsx)(E.ql,{children:(0,o.jsx)("script",{children:"function hideCommentScriptFunc(x_coord, y_coord) {\n                    const passageDiv = document.getElementById('passagediv');\n                    const lastDiv = passageDiv.lastChild;\n                    passageDiv.removeChild(lastDiv);\n                  }"})}),(0,o.jsx)("div",{className:"fixed right-3 xl:right-10 top-1/2 transform -translate-y-1/2",children:(0,o.jsx)("button",{onClick:function(e){return es(e)},disabled:j,children:(0,o.jsx)(C,{className:"h-8 xl:h-10 text-gray-600 cursor-pointer hover:scale-125 transition-all duration-150 ease-out"})})})]})]})})})})},T=function(e){var n=e.bookInput,t=e.handleBookInputChange,s=e.chapterInput,a=e.handleChapterInputChange,r=e.searchFunc;return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{className:"w-full max-w-sm pt-2 pb-3",onSubmit:function(e){return r(e,n,s)},children:[(0,o.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 px-1",children:"Jump to..."}),(0,o.jsxs)("div",{className:"flex items-center border-b py-2",children:[(0,o.jsx)("input",{type:"text",value:n,onChange:t,placeholder:"Genesis",className:"focus:ring-0 appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"}),(0,o.jsx)("input",{type:"text",value:s,onChange:a,placeholder:"1",className:"focus:ring-0 appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"}),(0,o.jsx)("button",{type:"submit",className:"flex-shrink-0 bg-gray-500 hover:bg-gray-400 border-none text-sm border-4 text-white py-1 px-2 rounded",children:"Search"})]})]})})},R=t(1799),I=function(e){var n=e.currentBook,t=function(e){l.current&&!l.current.contains(e.target)&&i(!1)},s=(0,a.Z)((0,u.useState)(!1),2),r=s[0],i=s[1],l=(0,u.useRef)(null);return(0,u.useEffect)(function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}},[]),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"",ref:l,children:[(0,o.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-900",onClick:function(){i(function(e){return!e})},children:(0,o.jsx)(R,{className:"h-6 w-6"})}),r&&(0,o.jsx)("div",{className:"absolute h-[70vh] overflow-y-auto left-2 mt-2 w-full md:w-3/4 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("a",{className:"block text-center px-4 py-2 text-sm text-gray-700 bg-gray-50 cursor-pointer disabled",role:"menuitem",children:"Old Testament"}),(0,o.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"].map(function(e){return e.toLowerCase().replace(/\s/g,"")===n?(0,o.jsx)("a",{href:"/search/"+e.toLowerCase().replace(/\s/g,"")+"-1",className:"block font-bold px-4 py-2 text-sm text-gray-700 bg-blue-100 hover:text-gray-900 cursor-pointer",role:"menuitem",children:e}):(0,o.jsx)("a",{href:"/search/"+e.toLowerCase().replace(/\s/g,"")+"-1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:e})})}),(0,o.jsx)("a",{className:"block text-center px-4 py-2 text-sm text-gray-700 bg-gray-50 cursor-pointer disabled",role:"menuitem",children:"New Testament"}),(0,o.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:["Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"].map(function(e){return e.toLowerCase().replace(/\s/g,"")===n?(0,o.jsx)("a",{href:"/search/"+e.toLowerCase().replace(/\s/g,"")+"-1",className:"block font-bold px-4 py-2 text-sm text-gray-700 bg-blue-100 hover:text-gray-900 cursor-pointer",role:"menuitem",children:e}):(0,o.jsx)("a",{href:"/search/"+e.toLowerCase().replace(/\s/g,"")+"-1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:e})})})]})})]})})};function A(){var e,n,t,i,h=function(e){U.current&&!U.current.contains(e.target)&&P(!1)},d=(0,a.Z)((0,u.useState)(!1),2),m=d[0],p=d[1],f=(0,g.useSession)().data,x=(0,c.useRouter)(),v=x.query.query,b=(0,a.Z)((0,u.useState)(""),2),j=b[0],w=b[1],k=(0,a.Z)((0,u.useState)(""),2),N=k[0],S=k[1],C=(0,a.Z)((0,u.useState)(""),2),E=C[0],L=C[1],Z=(0,a.Z)((0,u.useState)(""),2),R=Z[0],A=Z[1],H=(0,a.Z)((0,u.useState)(""),2),J=H[0],B=H[1],F=(0,a.Z)((0,u.useState)(!1),2),q=F[0],P=F[1],U=(0,u.useRef)(null);(0,u.useEffect)(function(){var e=function(){p(window.innerWidth<768)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,u.useEffect)(function(){if(v){var e=v.trim().split("-");S(e.pop()),w(e.join(" "))}},[v]),(0,u.useEffect)(function(){j&&N&&O(null,j,N)},[j,N]),(0,u.useEffect)(function(){return window.addEventListener("click",h),function(){window.removeEventListener("click",h)}},[]);var O=(n=(0,s.Z)(function(e,n,t){var s,a,o,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return e&&e.preventDefault(),t||(t=1),[4,W(s=n.toLowerCase().replace(/\s/g,""),a=t.replace(/\s/g,""))];case 1:if(B(o=r.sent()),w(n),S(t),i=null,!(null==f?void 0:f.user))return[3,3];return[4,Y(s,a)];case 2:(i=r.sent())&&i!==o&&B(i),r.label=3;case 3:return x.push("/search/".concat(s,"-").concat(a)),[2]}})}),function(e,t,s){return n.apply(this,arguments)}),Y=(t=(0,s.Z)(function(e,n){var t,s;return(0,r.__generator)(this,function(a){switch(a.label){case 0:return t=(0,_.JU)(z,"Users",null==f?void 0:f.user.email,e,n),[4,(0,_.QT)(t)];case 1:if((s=a.sent()).exists())return[2,s.data().html];return[2,null]}})}),function(e,n){return t.apply(this,arguments)}),W=(i=(0,s.Z)(function(e,n){var t,s;return(0,r.__generator)(this,function(a){switch(a.label){case 0:return t=(0,_.JU)(z,e,n),[4,(0,_.QT)(t)];case 1:if((s=a.sent()).exists())return[2,s.data().html];return[2,null]}})}),function(e,n){return i.apply(this,arguments)});return(0,o.jsxs)("div",{className:"",children:[(0,o.jsxs)(l(),{children:[(0,o.jsx)("title",{children:"Bible Assistant"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)("div",{className:"sticky top-0 z-50 bg-white",children:f?(0,o.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,o.jsx)("div",{className:"pb-3 z-1",children:(0,o.jsx)(I,{currentBook:j})}),(0,o.jsxs)("div",{ref:U,children:[(0,o.jsx)("img",{onClick:function(){P(function(e){return!e})},src:null==f?void 0:null===(e=f.user)||void 0===e?void 0:e.image,alt:"profile picture",className:"h-10 w-10 rounded-full cursor-pointer hover:scale-125 transition-all duration-150 ease-out"}),q&&(0,o.jsx)("div",{className:"absolute right-0 top-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:(0,o.jsx)("button",{className:"block text-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer disabled",role:"menuitem",onClick:g.signOut,children:"Sign Out"})})]})]}):(0,o.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,o.jsx)("div",{className:"pb-3 z-1",children:(0,o.jsx)(I,{currentBook:j})}),(0,o.jsx)("button",{className:"py-2 px-4 bg-blue-300 hover:bg-blue-600 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:g.signIn,children:"Sign in"})]})}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(T,{bookInput:E,handleBookInputChange:function(e){L(e.target.value)},chapterInput:R,handleChapterInputChange:function(e){A(e.target.value)},searchFunc:O})}),(0,o.jsxs)("p",{className:"grid py-4 border-b-2 place-items-center text-3xl font-bold uppercase tracking-wide text-black",children:[function(e){if("songofsolomon"===e)return"Song of Solomon";var n=/(\d+)([a-zA-Z]+)/g.exec(e);if(!n)return e.toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()});var t=n[1],s=n[2].toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()});return"".concat(t," ").concat(s)}(j)," ",N]}),m?(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"mx-3 xl:mx-16",children:(0,o.jsx)(D,{passageHTML:J,searchFunc:O,book:j,chapter:N})})}):(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"mx-3 xl:mx-16",children:(0,o.jsx)(M,{passageHTML:J,searchFunc:O,book:j,chapter:N})})}),(0,o.jsx)(y,{})]})}}},function(e){e.O(0,[16,981,774,888,179],function(){return e(e.s=7223)}),_N_E=e.O()}]);