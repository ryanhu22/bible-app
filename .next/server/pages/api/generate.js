"use strict";(()=>{var e={};e.id=565,e.ids=[565],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7794:(e,r,t)=>{t.r(r),t.d(r,{config:()=>p,default:()=>d,routeModule:()=>c});var s={};t.r(s),t.d(s,{default:()=>generate});var a=t(1802),n=t(7153),o=t(6249);let i=require("openai"),u=new i.Configuration({apiKey:process.env.OPEN_AI_KEY}),l=new i.OpenAIApi(u);async function generate(e,r){if(!u.apiKey){r.status(500).json({error:{message:"OpenAI API key not configured, please follow instructions in README.md"}});return}let t=e.body.request||"";if(0===t.trim().length){r.status(400).json({error:{message:"No input was provided."}});return}try{let e=await l.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant, who has wide and deep knowledge of the Christianity Bible, particularly of the English Standard Version"},{role:"user",content:t}]});r.status(200).json({result:e.data.choices[0].message.content})}catch(e){e.response?(console.error(e.response.status,e.response.data),r.status(e.response.status).json(e.response.data)):(console.error(`Error with OpenAI API request: ${e.message}`),r.status(500).json({error:{message:"An error occurred during your request.",result:"An error occured with API, probably my fault."}}))}}let d=(0,o.l)(s,"default"),p=(0,o.l)(s,"config"),c=new a.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/generate",pathname:"/api/generate",bundlePath:"",filename:""},userland:s})}};var r=require("../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[222],()=>__webpack_exec__(7794));module.exports=t})();